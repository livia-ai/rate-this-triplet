const pe=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}};pe();function J(){}function he(t,e){for(const n in e)t[n]=e[n];return t}function de(t){return t()}function se(){return Object.create(null)}function W(t){t.forEach(de)}function ge(t){return typeof t=="function"}function D(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let I;function S(t,e){return I||(I=document.createElement("a")),I.href=e,t===I.href}function ve(t){return Object.keys(t).length===0}function d(t,e){t.appendChild(e)}function M(t,e,n){t.insertBefore(e,n||null)}function H(t){t.parentNode.removeChild(t)}function $(t){return document.createElement(t)}function _e(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function $e(t){return document.createTextNode(t)}function w(){return $e(" ")}function N(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function m(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function re(t,e){for(const n in e)m(t,n,e[n])}function be(t){return Array.from(t.childNodes)}function we(t,e,{bubbles:n=!1,cancelable:s=!1}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,s,e),r}let j;function O(t){j=t}function Y(){if(!j)throw new Error("Function called outside component initialization");return j}function ye(t){Y().$$.on_mount.push(t)}function Ce(t){Y().$$.after_update.push(t)}function x(){const t=Y();return(e,n,{cancelable:s=!1}={})=>{const r=t.$$.callbacks[e];if(r){const i=we(e,n,{cancelable:s});return r.slice().forEach(l=>{l.call(t,i)}),!i.defaultPrevented}return!0}}const z=[],le=[],q=[],oe=[],ke=Promise.resolve();let Q=!1;function Le(){Q||(Q=!0,ke.then(me))}function X(t){q.push(t)}const G=new Set;let Z=0;function me(){const t=j;do{for(;Z<z.length;){const e=z[Z];Z++,O(e),Te(e.$$)}for(O(null),z.length=0,Z=0;le.length;)le.pop()();for(let e=0;e<q.length;e+=1){const n=q[e];G.has(n)||(G.add(n),n())}q.length=0}while(z.length);for(;oe.length;)oe.pop()();Q=!1,G.clear(),O(t)}function Te(t){if(t.fragment!==null){t.update(),W(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(X)}}const R=new Set;let Ae;function C(t,e){t&&t.i&&(R.delete(t),t.i(e))}function T(t,e,n,s){if(t&&t.o){if(R.has(t))return;R.add(t),Ae.c.push(()=>{R.delete(t),s&&(n&&t.d(1),s())}),t.o(e)}}function Be(t,e){const n={},s={},r={$$scope:1};let i=t.length;for(;i--;){const l=t[i],p=e[i];if(p){for(const o in l)o in p||(s[o]=1);for(const o in p)r[o]||(n[o]=p[o],r[o]=1);t[i]=p}else for(const o in l)r[o]=1}for(const l in s)l in n||(n[l]=void 0);return n}function A(t){t&&t.c()}function k(t,e,n,s){const{fragment:r,on_mount:i,on_destroy:l,after_update:p}=t.$$;r&&r.m(e,n),s||X(()=>{const o=i.map(de).filter(ge);l?l.push(...o):W(o),t.$$.on_mount=[]}),p.forEach(X)}function L(t,e){const n=t.$$;n.fragment!==null&&(W(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Ee(t,e){t.$$.dirty[0]===-1&&(z.push(t),Le(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function P(t,e,n,s,r,i,l,p=[-1]){const o=j;O(t);const f=t.$$={fragment:null,ctx:null,props:i,update:J,not_equal:r,bound:se(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(o?o.$$.context:[])),callbacks:se(),dirty:p,skip_bound:!1,root:e.target||o.$$.root};l&&l(f.root);let c=!1;if(f.ctx=n?n(t,e.props||{},(_,b,...h)=>{const g=h.length?h[0]:b;return f.ctx&&r(f.ctx[_],f.ctx[_]=g)&&(!f.skip_bound&&f.bound[_]&&f.bound[_](g),c&&Ee(t,_)),b}):[],f.update(),c=!0,W(f.before_update),f.fragment=s?s(f.ctx):!1,e.target){if(e.hydrate){const _=be(e.target);f.fragment&&f.fragment.l(_),_.forEach(H)}else f.fragment&&f.fragment.c();e.intro&&C(t.$$.fragment),k(t,e.target,e.anchor,e.customElement),me()}O(o)}class U{$destroy(){L(this,1),this.$destroy=J}$on(e,n){const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(n),()=>{const r=s.indexOf(n);r!==-1&&s.splice(r,1)}}$set(e){this.$$set&&!ve(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function He(t){let e,n=[{width:t[1]},{height:t[1]},{"stroke-width":"0"},{class:t[2]},t[0].a,t[4],{xmlns:"http://www.w3.org/2000/svg"}],s={};for(let r=0;r<n.length;r+=1)s=he(s,n[r]);return{c(){e=_e("svg"),re(e,s)},m(r,i){M(r,e,i),e.innerHTML=t[3]},p(r,[i]){i&8&&(e.innerHTML=r[3]),re(e,s=Be(n,[i&2&&{width:r[1]},i&2&&{height:r[1]},{"stroke-width":"0"},i&4&&{class:r[2]},i&1&&r[0].a,i&16&&r[4],{xmlns:"http://www.w3.org/2000/svg"}]))},i:J,o:J,d(r){r&&H(e)}}}function Me(t,e,n){let{src:s}=e,{size:r="1em"}=e,{color:i=void 0}=e,{title:l=void 0}=e,{className:p=""}=e,o,f;return t.$$set=c=>{"src"in c&&n(0,s=c.src),"size"in c&&n(1,r=c.size),"color"in c&&n(5,i=c.color),"title"in c&&n(6,l=c.title),"className"in c&&n(2,p=c.className)},t.$$.update=()=>{t.$$.dirty&33&&(n(4,f={}),i&&(s.a.stroke!=="none"&&n(4,f.stroke=i,f),s.a.fill!=="none"&&n(4,f.fill=i,f))),t.$$.dirty&65&&n(3,o=(l?`<title>${l}</title>`:"")+s.c)},[s,r,p,o,f,i,l]}class B extends U{constructor(e){super(),P(this,e,Me,He,D,{src:0,size:1,color:5,title:6,className:2})}}var K={a:{role:"img",viewBox:"0 0 24 24"},c:'<title></title><path d="M12 8.816a3.184 3.184 0 1 0 0 6.368 3.184 3.184 0 1 0 0-6.368zM12 0v3.918A8.082 8.082 0 0 0 3.918 12H0A12 12 0 0 1 12 0zm0 24v-3.918A8.082 8.082 0 0 0 20.082 12H24a12 12 0 0 1-12 12z"></path>'};function ae(t){let e,n,s,r;return{c(){e=$("img"),S(e.src,n=t[1](t[0].anchor.image))||m(e,"src",n),m(e,"alt","Reference"),m(e,"class","svelte-3otm1h")},m(i,l){M(i,e,l),s||(r=N(e,"load",t[2]),s=!0)},p(i,l){l&1&&!S(e.src,n=i[1](i[0].anchor.image))&&m(e,"src",n)},d(i){i&&H(e),s=!1,r()}}}function ce(t){let e,n,s,r;return{c(){e=$("img"),S(e.src,n=t[1](t[0].similar.image))||m(e,"src",n),m(e,"alt","Similar"),m(e,"class","svelte-3otm1h")},m(i,l){M(i,e,l),s||(r=N(e,"load",t[2]),s=!0)},p(i,l){l&1&&!S(e.src,n=i[1](i[0].similar.image))&&m(e,"src",n)},d(i){i&&H(e),s=!1,r()}}}function fe(t){let e,n,s,r;return{c(){e=$("img"),S(e.src,n=t[1](t[0].dissimilar.image))||m(e,"src",n),m(e,"alt","Different"),m(e,"class","svelte-3otm1h")},m(i,l){M(i,e,l),s||(r=N(e,"load",t[2]),s=!0)},p(i,l){l&1&&!S(e.src,n=i[1](i[0].dissimilar.image))&&m(e,"src",n)},d(i){i&&H(e),s=!1,r()}}}function Se(t){let e,n,s,r,i,l,p,o,f,c,_,b,h;s=new B({props:{src:K}});let g=t[0]&&ae(t);p=new B({props:{src:K}});let v=t[0]&&ce(t);_=new B({props:{src:K}});let a=t[0]&&fe(t);return{c(){e=$("div"),n=$("div"),A(s.$$.fragment),r=w(),g&&g.c(),i=w(),l=$("div"),A(p.$$.fragment),o=w(),v&&v.c(),f=w(),c=$("div"),A(_.$$.fragment),b=w(),a&&a.c(),m(n,"class","triplet-image svelte-3otm1h"),m(l,"class","triplet-image svelte-3otm1h"),m(c,"class","triplet-image svelte-3otm1h"),m(e,"class","triplet-container svelte-3otm1h")},m(u,E){M(u,e,E),d(e,n),k(s,n,null),d(n,r),g&&g.m(n,null),d(e,i),d(e,l),k(p,l,null),d(l,o),v&&v.m(l,null),d(e,f),d(e,c),k(_,c,null),d(c,b),a&&a.m(c,null),h=!0},p(u,[E]){u[0]?g?g.p(u,E):(g=ae(u),g.c(),g.m(n,null)):g&&(g.d(1),g=null),u[0]?v?v.p(u,E):(v=ce(u),v.c(),v.m(l,null)):v&&(v.d(1),v=null),u[0]?a?a.p(u,E):(a=fe(u),a.c(),a.m(c,null)):a&&(a.d(1),a=null)},i(u){h||(C(s.$$.fragment,u),C(p.$$.fragment,u),C(_.$$.fragment,u),h=!0)},o(u){T(s.$$.fragment,u),T(p.$$.fragment,u),T(_.$$.fragment,u),h=!1},d(u){u&&H(e),L(s),g&&g.d(),L(p),v&&v.d(),L(_),a&&a.d()}}}function Ne(t,e,n){let{triplet:s}=e;const r=x();let i=0;Ce(()=>{i=0});const l=o=>s.proxy?`/api/proxy?url=${o}`:o,p=()=>{i=i+1,i===3&&r("loaded")};return t.$$set=o=>{"triplet"in o&&n(0,s=o.triplet)},[s,l,p]}class Ve extends U{constructor(e){super(),P(this,e,Ne,Se,D,{triplet:0})}}var ze={a:{viewBox:"0 0 20 20",fill:"none"},c:'<path d="M2 10.5C2 9.67157 2.67157 9 3.5 9C4.32843 9 5 9.67157 5 10.5V16.5C5 17.3284 4.32843 18 3.5 18C2.67157 18 2 17.3284 2 16.5V10.5Z" fill="#374151"></path><path d="M6 10.3333V15.7639C6 16.5215 6.428 17.214 7.10557 17.5528L7.15542 17.5777C7.71084 17.8554 8.32329 18 8.94427 18H14.3604C15.3138 18 16.1346 17.3271 16.3216 16.3922L17.5216 10.3922C17.7691 9.15465 16.8225 8 15.5604 8H12V4C12 2.89543 11.1046 2 10 2C9.44772 2 9 2.44772 9 3V3.66667C9 4.53215 8.71929 5.37428 8.2 6.06667L6.8 7.93333C6.28071 8.62572 6 9.46785 6 10.3333Z" fill="#374151"></path>'},ue={a:{viewBox:"0 0 24 24"},c:'<path d="M7,19h10c1.104,0,2-0.896,2-2V7c0-1.104-0.896-2-2-2H7C5.896,5,5,5.896,5,7v10C5,18.104,5.896,19,7,19z"></path>'},F={a:{viewBox:"0 0 24 24"},c:'<path d="M7,5C5.897,5,5,5.897,5,7v10c0,1.103,0.897,2,2,2h10c1.103,0,2-0.897,2-2V7c0-1.103-0.897-2-2-2H7z M7,17V7h10l0.002,10H7z"></path>'};function Oe(t){let e,n,s,r,i,l,p,o,f,c,_,b,h,g,v;return s=new B({props:{src:ze}}),l=new B({props:{src:ue}}),o=new B({props:{src:ue}}),c=new B({props:{src:F}}),{c(){e=$("button"),n=$("div"),A(s.$$.fragment),r=w(),i=$("div"),A(l.$$.fragment),p=w(),A(o.$$.fragment),f=w(),A(c.$$.fragment),_=w(),b=$("div"),b.innerHTML=`<p>Similar motives or themes in A and B. C is sufficiently 
      different.</p>`,m(i,"class","illustration"),m(n,"class","icon-container svelte-109sehc"),m(b,"class","instructions svelte-109sehc"),e.disabled=t[0],m(e,"class","thumbs thumps-up svelte-109sehc")},m(a,u){M(a,e,u),d(e,n),k(s,n,null),d(n,r),d(n,i),k(l,i,null),d(i,p),k(o,i,null),d(i,f),k(c,i,null),d(e,_),d(e,b),h=!0,g||(v=N(e,"click",t[1]),g=!0)},p(a,[u]){(!h||u&1)&&(e.disabled=a[0])},i(a){h||(C(s.$$.fragment,a),C(l.$$.fragment,a),C(o.$$.fragment,a),C(c.$$.fragment,a),h=!0)},o(a){T(s.$$.fragment,a),T(l.$$.fragment,a),T(o.$$.fragment,a),T(c.$$.fragment,a),h=!1},d(a){a&&H(e),L(s),L(l),L(o),L(c),g=!1,v()}}}function je(t,e,n){let{disabled:s}=e;const r=x(),i=()=>r("click");return t.$$set=l=>{"disabled"in l&&n(0,s=l.disabled)},[s,i]}class De extends U{constructor(e){super(),P(this,e,je,Oe,D,{disabled:0})}}var Pe={a:{viewBox:"0 0 20 20",fill:"none"},c:'<path d="M18 9.5C18 10.3284 17.3285 11 16.5 11C15.6716 11 15 10.3284 15 9.5V3.5C15 2.67157 15.6716 2 16.5 2C17.3285 2 18 2.67157 18 3.5V9.5Z" fill="#374151"></path><path d="M14 9.66667V4.23607C14 3.47852 13.572 2.786 12.8945 2.44721L12.8446 2.42229C12.2892 2.14458 11.6767 2 11.0558 2L5.63964 2C4.68628 2 3.86545 2.67292 3.67848 3.60777L2.47848 9.60777C2.23097 10.8453 3.17755 12 4.43964 12H8.00004V16C8.00004 17.1046 8.89547 18 10 18C10.5523 18 11 17.5523 11 17V16.3333C11 15.4679 11.2807 14.6257 11.8 13.9333L13.2 12.0667C13.7193 11.3743 14 10.5321 14 9.66667Z" fill="#374151"></path>'};function Ue(t){let e,n,s,r,i,l,p,o,f,c,_,b,h,g,v;return s=new B({props:{src:Pe}}),l=new B({props:{src:F}}),o=new B({props:{src:F}}),c=new B({props:{src:F}}),{c(){e=$("button"),n=$("div"),A(s.$$.fragment),r=w(),i=$("div"),A(l.$$.fragment),p=w(),A(o.$$.fragment),f=w(),A(c.$$.fragment),_=w(),b=$("div"),b.innerHTML="<p>No similarity between A and B, or C too similar to A or B.</p>",m(i,"class","illustration"),m(n,"class","icon-container svelte-n2jlm0"),m(b,"class","instructions svelte-n2jlm0"),e.disabled=t[0],m(e,"class","thumbs thumps-down svelte-n2jlm0")},m(a,u){M(a,e,u),d(e,n),k(s,n,null),d(n,r),d(n,i),k(l,i,null),d(i,p),k(o,i,null),d(i,f),k(c,i,null),d(e,_),d(e,b),h=!0,g||(v=N(e,"click",t[1]),g=!0)},p(a,[u]){(!h||u&1)&&(e.disabled=a[0])},i(a){h||(C(s.$$.fragment,a),C(l.$$.fragment,a),C(o.$$.fragment,a),C(c.$$.fragment,a),h=!0)},o(a){T(s.$$.fragment,a),T(l.$$.fragment,a),T(o.$$.fragment,a),T(c.$$.fragment,a),h=!1},d(a){a&&H(e),L(s),L(l),L(o),L(c),g=!1,v()}}}function Ie(t,e,n){let{disabled:s}=e;const r=x(),i=()=>r("click");return t.$$set=l=>{"disabled"in l&&n(0,s=l.disabled)},[s,i]}class Ze extends U{constructor(e){super(),P(this,e,Ie,Ue,D,{disabled:0})}}function qe(t){let e,n,s,r,i,l,p,o,f,c,_,b,h,g,v,a,u,E,ee;return l=new Ve({props:{triplet:t[0]}}),l.$on("loaded",t[3]),c=new De({props:{disabled:t[1]}}),c.$on("click",t[4]("GOOD")),h=new Ze({props:{disabled:t[1]}}),h.$on("click",t[4]("BAD")),{c(){e=$("main"),n=$("div"),n.innerHTML=`<h1 class="svelte-1582sw8">Rate this Triplet</h1> 

    <p class="svelte-1582sw8"><strong>Help us improve our data by providing feedback about this triplet.</strong> A good triplet   
      is one where images A and B show similar motives or themes, and image C is different 
      from A and B. If there is little similarity between A and B, or C is similar to A or B, that&#39;s a 
      bad triplet.</p> 

    <p class="svelte-1582sw8"><strong>We know that ratings are subjective. That&#39;s no problem!</strong> We want to collect as much &amp;
      as diverse feedback as possible. Don&#39;t overthink it. Just focus on image motives and themes, and 
      rate according to your intuition.</p>`,s=w(),r=$("div"),r.innerHTML=`<div>A</div> 
    <div>B</div> 
    <div>C</div>`,i=w(),A(l.$$.fragment),p=w(),o=$("div"),f=$("div"),A(c.$$.fragment),_=w(),b=$("div"),A(h.$$.fragment),g=w(),v=$("div"),a=$("button"),a.textContent="Skip this Triplet",m(n,"class","intro svelte-1582sw8"),m(r,"class","abc svelte-1582sw8"),m(f,"class","svelte-1582sw8"),m(b,"class","svelte-1582sw8"),m(o,"class","rate-buttons-container svelte-1582sw8"),m(a,"class","svelte-1582sw8"),m(v,"class","skip svelte-1582sw8"),m(e,"class","svelte-1582sw8")},m(y,V){M(y,e,V),d(e,n),d(e,s),d(e,r),d(e,i),k(l,e,null),d(e,p),d(e,o),d(o,f),k(c,f,null),d(o,_),d(o,b),k(h,b,null),d(e,g),d(e,v),d(v,a),u=!0,E||(ee=N(a,"click",t[2]),E=!0)},p(y,[V]){const te={};V&1&&(te.triplet=y[0]),l.$set(te);const ne={};V&2&&(ne.disabled=y[1]),c.$set(ne);const ie={};V&2&&(ie.disabled=y[1]),h.$set(ie)},i(y){u||(C(l.$$.fragment,y),C(c.$$.fragment,y),C(h.$$.fragment,y),u=!0)},o(y){T(l.$$.fragment,y),T(c.$$.fragment,y),T(h.$$.fragment,y),u=!1},d(y){y&&H(e),L(l),L(c),L(h),E=!1,ee()}}}function Re(t,e,n){let s,r=!0;const i=()=>{n(1,r=!0),n(0,s=null),fetch("/api/triplet").then(o=>o.json()).then(o=>{n(0,s=o)})},l=()=>{n(1,r=!1)},p=o=>()=>{fetch("/api/rating",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({anchor:s.anchor.id,similar:s.similar.id,dissimilar:s.dissimilar.id,method:s.method,museum:s.museum,rating:o})}),i()};return ye(()=>i()),[s,r,i,l,p]}class Fe extends U{constructor(e){super(),P(this,e,Re,qe,D,{})}}new Fe({target:document.getElementById("app")});
//# sourceMappingURL=index.98dcb6a3.js.map
