const de=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}};de();function W(){}function me(t,e){for(const n in e)t[n]=e[n];return t}function fe(t){return t()}function ne(){return Object.create(null)}function G(t){t.forEach(fe)}function he(t){return typeof t=="function"}function P(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let I;function M(t,e){return I||(I=document.createElement("a")),I.href=e,t===I.href}function ge(t){return Object.keys(t).length===0}function h(t,e){t.appendChild(e)}function H(t,e,n){t.insertBefore(e,n||null)}function B(t){t.parentNode.removeChild(t)}function w(t){return document.createElement(t)}function pe(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function _e(t){return document.createTextNode(t)}function $(){return _e(" ")}function j(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function p(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function ie(t,e){for(const n in e)p(t,n,e[n])}function ve(t){return Array.from(t.childNodes)}function be(t,e,{bubbles:n=!1,cancelable:r=!1}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(t,n,r,e),s}let N;function V(t){N=t}function Y(){if(!N)throw new Error("Function called outside component initialization");return N}function we(t){Y().$$.on_mount.push(t)}function ye(t){Y().$$.after_update.push(t)}function x(){const t=Y();return(e,n,{cancelable:r=!1}={})=>{const s=t.$$.callbacks[e];if(s){const i=be(e,n,{cancelable:r});return s.slice().forEach(l=>{l.call(t,i)}),!i.defaultPrevented}return!0}}const S=[],se=[],Z=[],re=[],$e=Promise.resolve();let Q=!1;function Ce(){Q||(Q=!0,$e.then(ue))}function X(t){Z.push(t)}const J=new Set;let U=0;function ue(){const t=N;do{for(;U<S.length;){const e=S[U];U++,V(e),ke(e.$$)}for(V(null),S.length=0,U=0;se.length;)se.pop()();for(let e=0;e<Z.length;e+=1){const n=Z[e];J.has(n)||(J.add(n),n())}Z.length=0}while(S.length);for(;re.length;)re.pop()();Q=!1,J.clear(),V(t)}function ke(t){if(t.fragment!==null){t.update(),G(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(X)}}const F=new Set;let Ae;function C(t,e){t&&t.i&&(F.delete(t),t.i(e))}function q(t,e,n,r){if(t&&t.o){if(F.has(t))return;F.add(t),Ae.c.push(()=>{F.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}function qe(t,e){const n={},r={},s={$$scope:1};let i=t.length;for(;i--;){const l=t[i],d=e[i];if(d){for(const o in l)o in d||(r[o]=1);for(const o in d)s[o]||(n[o]=d[o],s[o]=1);t[i]=d}else for(const o in l)s[o]=1}for(const l in r)l in n||(n[l]=void 0);return n}function L(t){t&&t.c()}function k(t,e,n,r){const{fragment:s,on_mount:i,on_destroy:l,after_update:d}=t.$$;s&&s.m(e,n),r||X(()=>{const o=i.map(fe).filter(he);l?l.push(...o):G(o),t.$$.on_mount=[]}),d.forEach(X)}function A(t,e){const n=t.$$;n.fragment!==null&&(G(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Le(t,e){t.$$.dirty[0]===-1&&(S.push(t),Ce(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function O(t,e,n,r,s,i,l,d=[-1]){const o=N;V(t);const u=t.$$={fragment:null,ctx:null,props:i,update:W,not_equal:s,bound:ne(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(o?o.$$.context:[])),callbacks:ne(),dirty:d,skip_bound:!1,root:e.target||o.$$.root};l&&l(u.root);let f=!1;if(u.ctx=n?n(t,e.props||{},(a,y,...v)=>{const g=v.length?v[0]:y;return u.ctx&&s(u.ctx[a],u.ctx[a]=g)&&(!u.skip_bound&&u.bound[a]&&u.bound[a](g),f&&Le(t,a)),y}):[],u.update(),f=!0,G(u.before_update),u.fragment=r?r(u.ctx):!1,e.target){if(e.hydrate){const a=ve(e.target);u.fragment&&u.fragment.l(a),a.forEach(B)}else u.fragment&&u.fragment.c();e.intro&&C(t.$$.fragment),k(t,e.target,e.anchor,e.customElement),ue()}V(o)}class D{$destroy(){A(this,1),this.$destroy=W}$on(e,n){const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}$set(e){this.$$set&&!ge(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Te(t){let e,n=[{width:t[1]},{height:t[1]},{"stroke-width":"0"},{class:t[2]},t[0].a,t[4],{xmlns:"http://www.w3.org/2000/svg"}],r={};for(let s=0;s<n.length;s+=1)r=me(r,n[s]);return{c(){e=pe("svg"),ie(e,r)},m(s,i){H(s,e,i),e.innerHTML=t[3]},p(s,[i]){i&8&&(e.innerHTML=s[3]),ie(e,r=qe(n,[i&2&&{width:s[1]},i&2&&{height:s[1]},{"stroke-width":"0"},i&4&&{class:s[2]},i&1&&s[0].a,i&16&&s[4],{xmlns:"http://www.w3.org/2000/svg"}]))},i:W,o:W,d(s){s&&B(e)}}}function Be(t,e,n){let{src:r}=e,{size:s="1em"}=e,{color:i=void 0}=e,{title:l=void 0}=e,{className:d=""}=e,o,u;return t.$$set=f=>{"src"in f&&n(0,r=f.src),"size"in f&&n(1,s=f.size),"color"in f&&n(5,i=f.color),"title"in f&&n(6,l=f.title),"className"in f&&n(2,d=f.className)},t.$$.update=()=>{t.$$.dirty&33&&(n(4,u={}),i&&(r.a.stroke!=="none"&&n(4,u.stroke=i,u),r.a.fill!=="none"&&n(4,u.fill=i,u))),t.$$.dirty&65&&n(3,o=(l?`<title>${l}</title>`:"")+r.c)},[r,s,d,o,u,i,l]}class T extends D{constructor(e){super(),O(this,e,Be,Te,P,{src:0,size:1,color:5,title:6,className:2})}}var K={a:{role:"img",viewBox:"0 0 24 24"},c:'<title></title><path d="M12 8.816a3.184 3.184 0 1 0 0 6.368 3.184 3.184 0 1 0 0-6.368zM12 0v3.918A8.082 8.082 0 0 0 3.918 12H0A12 12 0 0 1 12 0zm0 24v-3.918A8.082 8.082 0 0 0 20.082 12H24a12 12 0 0 1-12 12z"></path>'};function le(t){let e,n,r,s;return{c(){e=w("img"),M(e.src,n=t[3](t[0].image))||p(e,"src",n),p(e,"alt","Reference"),p(e,"class","svelte-snrcqw")},m(i,l){H(i,e,l),r||(s=j(e,"load",t[4]),r=!0)},p(i,l){l&1&&!M(e.src,n=i[3](i[0].image))&&p(e,"src",n)},d(i){i&&B(e),r=!1,s()}}}function oe(t){let e,n,r,s;return{c(){e=w("img"),M(e.src,n=t[3](t[1].image))||p(e,"src",n),p(e,"alt","Similar"),p(e,"class","svelte-snrcqw")},m(i,l){H(i,e,l),r||(s=j(e,"load",t[4]),r=!0)},p(i,l){l&2&&!M(e.src,n=i[3](i[1].image))&&p(e,"src",n)},d(i){i&&B(e),r=!1,s()}}}function ae(t){let e,n,r,s;return{c(){e=w("img"),M(e.src,n=t[3](t[2].image))||p(e,"src",n),p(e,"alt","Different"),p(e,"class","svelte-snrcqw")},m(i,l){H(i,e,l),r||(s=j(e,"load",t[4]),r=!0)},p(i,l){l&4&&!M(e.src,n=i[3](i[2].image))&&p(e,"src",n)},d(i){i&&B(e),r=!1,s()}}}function Ee(t){let e,n,r,s,i,l,d,o,u,f,a,y,v;r=new T({props:{src:K}});let g=t[0]&&le(t);d=new T({props:{src:K}});let _=t[1]&&oe(t);a=new T({props:{src:K}});let c=t[2]&&ae(t);return{c(){e=w("div"),n=w("div"),L(r.$$.fragment),s=$(),g&&g.c(),i=$(),l=w("div"),L(d.$$.fragment),o=$(),_&&_.c(),u=$(),f=w("div"),L(a.$$.fragment),y=$(),c&&c.c(),p(n,"class","triplet-image svelte-snrcqw"),p(l,"class","triplet-image svelte-snrcqw"),p(f,"class","triplet-image svelte-snrcqw"),p(e,"class","triplet-container svelte-snrcqw")},m(m,b){H(m,e,b),h(e,n),k(r,n,null),h(n,s),g&&g.m(n,null),h(e,i),h(e,l),k(d,l,null),h(l,o),_&&_.m(l,null),h(e,u),h(e,f),k(a,f,null),h(f,y),c&&c.m(f,null),v=!0},p(m,[b]){m[0]?g?g.p(m,b):(g=le(m),g.c(),g.m(n,null)):g&&(g.d(1),g=null),m[1]?_?_.p(m,b):(_=oe(m),_.c(),_.m(l,null)):_&&(_.d(1),_=null),m[2]?c?c.p(m,b):(c=ae(m),c.c(),c.m(f,null)):c&&(c.d(1),c=null)},i(m){v||(C(r.$$.fragment,m),C(d.$$.fragment,m),C(a.$$.fragment,m),v=!0)},o(m){q(r.$$.fragment,m),q(d.$$.fragment,m),q(a.$$.fragment,m),v=!1},d(m){m&&B(e),A(r),g&&g.d(),A(d),_&&_.d(),A(a),c&&c.d()}}}function He(t,e,n){let{useProxy:r}=e,{anchor:s}=e,{similar:i}=e,{dissimilar:l}=e;const d=x();let o=0;ye(()=>{o=0});const u=a=>r?`/api/proxy?url=${a}`:a,f=()=>{o=o+1,o===3&&d("loaded")};return t.$$set=a=>{"useProxy"in a&&n(5,r=a.useProxy),"anchor"in a&&n(0,s=a.anchor),"similar"in a&&n(1,i=a.similar),"dissimilar"in a&&n(2,l=a.dissimilar)},[s,i,l,u,f,r]}class Me extends D{constructor(e){super(),O(this,e,He,Ee,P,{useProxy:5,anchor:0,similar:1,dissimilar:2})}}var je={a:{viewBox:"0 0 20 20",fill:"none"},c:'<path d="M2 10.5C2 9.67157 2.67157 9 3.5 9C4.32843 9 5 9.67157 5 10.5V16.5C5 17.3284 4.32843 18 3.5 18C2.67157 18 2 17.3284 2 16.5V10.5Z" fill="#374151"></path><path d="M6 10.3333V15.7639C6 16.5215 6.428 17.214 7.10557 17.5528L7.15542 17.5777C7.71084 17.8554 8.32329 18 8.94427 18H14.3604C15.3138 18 16.1346 17.3271 16.3216 16.3922L17.5216 10.3922C17.7691 9.15465 16.8225 8 15.5604 8H12V4C12 2.89543 11.1046 2 10 2C9.44772 2 9 2.44772 9 3V3.66667C9 4.53215 8.71929 5.37428 8.2 6.06667L6.8 7.93333C6.28071 8.62572 6 9.46785 6 10.3333Z" fill="#374151"></path>'},ce={a:{viewBox:"0 0 24 24"},c:'<path d="M7,19h10c1.104,0,2-0.896,2-2V7c0-1.104-0.896-2-2-2H7C5.896,5,5,5.896,5,7v10C5,18.104,5.896,19,7,19z"></path>'},R={a:{viewBox:"0 0 24 24"},c:'<path d="M7,5C5.897,5,5,5.897,5,7v10c0,1.103,0.897,2,2,2h10c1.103,0,2-0.897,2-2V7c0-1.103-0.897-2-2-2H7z M7,17V7h10l0.002,10H7z"></path>'};function ze(t){let e,n,r,s,i,l,d,o,u,f,a,y,v,g,_;return r=new T({props:{src:je}}),l=new T({props:{src:ce}}),o=new T({props:{src:ce}}),f=new T({props:{src:R}}),{c(){e=w("button"),n=w("div"),L(r.$$.fragment),s=$(),i=w("div"),L(l.$$.fragment),d=$(),L(o.$$.fragment),u=$(),L(f.$$.fragment),a=$(),y=w("div"),y.innerHTML=`<p>Images A and B show similar motives or themes. 
      Image C is sufficiently different from A and B.</p>`,p(i,"class","illustration"),p(n,"class","icon-container svelte-109sehc"),p(y,"class","instructions svelte-109sehc"),e.disabled=t[0],p(e,"class","thumbs thumps-up svelte-109sehc")},m(c,m){H(c,e,m),h(e,n),k(r,n,null),h(n,s),h(n,i),k(l,i,null),h(i,d),k(o,i,null),h(i,u),k(f,i,null),h(e,a),h(e,y),v=!0,g||(_=j(e,"click",t[1]),g=!0)},p(c,[m]){(!v||m&1)&&(e.disabled=c[0])},i(c){v||(C(r.$$.fragment,c),C(l.$$.fragment,c),C(o.$$.fragment,c),C(f.$$.fragment,c),v=!0)},o(c){q(r.$$.fragment,c),q(l.$$.fragment,c),q(o.$$.fragment,c),q(f.$$.fragment,c),v=!1},d(c){c&&B(e),A(r),A(l),A(o),A(f),g=!1,_()}}}function Se(t,e,n){let{disabled:r}=e;const s=x(),i=()=>s("click");return t.$$set=l=>{"disabled"in l&&n(0,r=l.disabled)},[r,i]}class Ve extends D{constructor(e){super(),O(this,e,Se,ze,P,{disabled:0})}}var Ne={a:{viewBox:"0 0 20 20",fill:"none"},c:'<path d="M18 9.5C18 10.3284 17.3285 11 16.5 11C15.6716 11 15 10.3284 15 9.5V3.5C15 2.67157 15.6716 2 16.5 2C17.3285 2 18 2.67157 18 3.5V9.5Z" fill="#374151"></path><path d="M14 9.66667V4.23607C14 3.47852 13.572 2.786 12.8945 2.44721L12.8446 2.42229C12.2892 2.14458 11.6767 2 11.0558 2L5.63964 2C4.68628 2 3.86545 2.67292 3.67848 3.60777L2.47848 9.60777C2.23097 10.8453 3.17755 12 4.43964 12H8.00004V16C8.00004 17.1046 8.89547 18 10 18C10.5523 18 11 17.5523 11 17V16.3333C11 15.4679 11.2807 14.6257 11.8 13.9333L13.2 12.0667C13.7193 11.3743 14 10.5321 14 9.66667Z" fill="#374151"></path>'};function Pe(t){let e,n,r,s,i,l,d,o,u,f,a,y,v,g,_;return r=new T({props:{src:Ne}}),l=new T({props:{src:R}}),o=new T({props:{src:R}}),f=new T({props:{src:R}}),{c(){e=w("button"),n=w("div"),L(r.$$.fragment),s=$(),i=w("div"),L(l.$$.fragment),d=$(),L(o.$$.fragment),u=$(),L(f.$$.fragment),a=$(),y=w("div"),y.innerHTML=`<p>Images A and B don&#39;t show similar motives or themes, 
      image C is too similar to A or B, or there is not
      much observable difference between A, B and C.</p>`,p(i,"class","illustration"),p(n,"class","icon-container svelte-1oz2ybb"),p(y,"class","instructions svelte-1oz2ybb"),e.disabled=t[0],p(e,"class","thumbs thumps-down svelte-1oz2ybb")},m(c,m){H(c,e,m),h(e,n),k(r,n,null),h(n,s),h(n,i),k(l,i,null),h(i,d),k(o,i,null),h(i,u),k(f,i,null),h(e,a),h(e,y),v=!0,g||(_=j(e,"click",t[1]),g=!0)},p(c,[m]){(!v||m&1)&&(e.disabled=c[0])},i(c){v||(C(r.$$.fragment,c),C(l.$$.fragment,c),C(o.$$.fragment,c),C(f.$$.fragment,c),v=!0)},o(c){q(r.$$.fragment,c),q(l.$$.fragment,c),q(o.$$.fragment,c),q(f.$$.fragment,c),v=!1},d(c){c&&B(e),A(r),A(l),A(o),A(f),g=!1,_()}}}function Oe(t,e,n){let{disabled:r}=e;const s=x(),i=()=>s("click");return t.$$set=l=>{"disabled"in l&&n(0,r=l.disabled)},[r,i]}class De extends D{constructor(e){super(),O(this,e,Oe,Pe,P,{disabled:0})}}function Ie(t){let e,n,r,s,i,l,d,o,u,f,a,y,v,g,_,c,m;return s=new Me({props:{useProxy:t[0],anchor:t[1],similar:t[2],dissimilar:t[3]}}),s.$on("loaded",t[6]),o=new Ve({props:{disabled:t[4]}}),o.$on("click",t[7]("GOOD")),a=new De({props:{disabled:t[4]}}),a.$on("click",t[7]("BAD")),{c(){e=w("main"),n=w("div"),n.innerHTML=`<h1 class="svelte-1qjow9b">Rate this Triplet</h1> 

    <p class="svelte-1qjow9b">Help us improve our data by providing feedback about this triplet. A &quot;good&quot; triplet is 
      one where images A and B depict similar motives or themes, and image C is as different 
      from A and B.</p> 

    <p class="svelte-1qjow9b">For example, two plans of buildings vs. a portrait would be a good triplet. A triplet where 
      there this little similarity between A and B, or where C is very similar to A or B would be 
      a bad triplet.</p> 

    <p class="svelte-1qjow9b">We know that ratings are subjective. That&#39;s not a problem! We want to collect as much &amp;
      as diverse feedback as possible.</p>`,r=$(),L(s.$$.fragment),i=$(),l=w("div"),d=w("div"),L(o.$$.fragment),u=$(),f=w("div"),L(a.$$.fragment),y=$(),v=w("div"),g=w("button"),g.textContent="Skip this Triplet",p(n,"class","intro svelte-1qjow9b"),p(l,"class","rate-buttons-container svelte-1qjow9b"),p(g,"class","svelte-1qjow9b"),p(v,"class","skip svelte-1qjow9b"),p(e,"class","svelte-1qjow9b")},m(b,E){H(b,e,E),h(e,n),h(e,r),k(s,e,null),h(e,i),h(e,l),h(l,d),k(o,d,null),h(l,u),h(l,f),k(a,f,null),h(e,y),h(e,v),h(v,g),_=!0,c||(m=j(g,"click",t[5]),c=!0)},p(b,[E]){const z={};E&1&&(z.useProxy=b[0]),E&2&&(z.anchor=b[1]),E&4&&(z.similar=b[2]),E&8&&(z.dissimilar=b[3]),s.$set(z);const ee={};E&16&&(ee.disabled=b[4]),o.$set(ee);const te={};E&16&&(te.disabled=b[4]),a.$set(te)},i(b){_||(C(s.$$.fragment,b),C(o.$$.fragment,b),C(a.$$.fragment,b),_=!0)},o(b){q(s.$$.fragment,b),q(o.$$.fragment,b),q(a.$$.fragment,b),_=!1},d(b){b&&B(e),A(s),A(o),A(a),c=!1,m()}}}function Ue(t,e,n){let r,s,i,l,d=!0;const o=()=>{n(4,d=!0),n(0,r=!1),n(1,s=null),n(2,i=null),n(3,l=null),fetch("/api/triplet").then(a=>a.json()).then(a=>{n(0,r=a.proxy),n(1,s=a.anchor),n(2,i=a.similar),n(3,l=a.dissimilar)})},u=()=>{n(4,d=!1)},f=a=>()=>{fetch("/api/rating",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({anchor:s.id,similar:i.id,dissimilar:l.id,rating:a})}),o()};return we(()=>o()),[r,s,i,l,d,o,u,f]}class Ze extends D{constructor(e){super(),O(this,e,Ue,Ie,P,{})}}new Ze({target:document.getElementById("app")});
//# sourceMappingURL=index.187183e3.js.map
